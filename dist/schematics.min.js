!function e(t,n,r){function a(i,u){if(!n[i]){if(!t[i]){var f="function"==typeof require&&require;if(!u&&f)return f(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var s=n[i]={exports:{}};t[i][0].call(s.exports,function(e){var n=t[i][1][e];return a(n?n:e)},s,s.exports,e,t,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this._schema=t,this._typeOptions=["String","Number","Date","Array","Object","Boolean"]}return a(e,[{key:"_getValueType",value:function(e){var t={}.toString.call(e);return t.match(/\s(\w+)/)[1]}},{key:"checkParamsValid",value:function(e,t){var n=this._schema,r=this,a=function o(e,n){for(var a in e){var i=e[a],u=n[a],f=r._getValueType(i);"undefined"==typeof u&&i.optional!==!0&&t({valid:!1,message:'Param "'+a+'" is required'});var c="Object"===f&&"undefined"!=typeof i.type;if("String"===f&&(c=!0),c){var s="String"===f?i:i.type,l=r._getValueType(u);if(l!==s){if("Undefined"===l&&i.optional===!0)continue;t({valid:!1,message:'Param "'+a+'" should be of type '+s})}}else o(i,u)}};a(n,e)}}]),e}();n["default"]=o},{}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./SchemaParser"),u=r(i),f=e("./ajax"),c=r(f),s=function(){function e(t){var n=this;return a(this,e),this._publicsMethods={get:function(e,t){var n=t._get,r=this._parseEndpointStr(n._cleanHref,e);return(0,c["default"])({url:r,dataType:"json"})},post:function(e,t){var n=t._post,r=new u["default"](n.params);return new Promise(function(t,n){r.checkParamsValid(e,function(e){if(!e.valid)throw new Error(e.message);(0,c["default"])({method:"POST",url:endpointUrl,dataType:"json"}).then(t)["catch"](n)})})}},new Promise(function(e,r){n._getSchema(t,e,r)})}return o(e,[{key:"_getSchema",value:function(e,t,n){var r=this;(0,c["default"])({url:e,dataType:"json"}).then(function(e){r._storeEndpoints(e),t(r,e)})["catch"](n)}},{key:"_storeEndpoints",value:function(e){var t=this,n=function(n){var r=e[n],a=function(e){var n=r[e];n._cleanHref=n.href.replace(/http(s)?\:\/\//,""),r["_"+e]=n,r[e]=function(n){return t._publicsMethods[e].apply(t,[n,r])}};for(var o in r)a(o);t[n]=r};for(var r in e)n(r)}},{key:"_parseEndpointStr",value:function(e,t){var n=this._getUrlEndpointParamNames(e);n.forEach(function(n){if("undefined"==typeof t[n])throw new Error('Param "'+n+'" is required for endpoint '+e)});for(var r in t){var a=t[r];e=e.replace(":"+r,a)}return e}},{key:"_getUrlEndpointParamNames",value:function(e,t){var n=e.match(/\:([^\/\:]+)/g)||[];return n=n.map(function(e){return e.replace(/\:/g,"")})}}]),e}();n["default"]=s},{"./SchemaParser":1,"./ajax":3}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};n["default"]=function(e){var t=function(t,n){var a=new XMLHttpRequest,o=e.data,i=e.dataType;a.onreadystatechange=function(){if(4===a.readyState){var e,r=a.responseText;if("json"===i)try{e=JSON.parse(r)}catch(o){e=r}else e=r;200===a.status?"function"==typeof t&&t(e,a):"function"==typeof n&&n(e,a)}};var u=void 0!==e.type?e.type.toUpperCase():"GET",f=["POST","PUT","DELETE"];a.open(u,e.url,!0),-1!==f.indexOf(u)&&("object"===("undefined"==typeof o?"undefined":r(o))?a.setRequestHeader("Content-Type","application/json"):a.setRequestHeader("Content-Type","application/x-www-form-urlencoded")),"json"!==i||"object"!==("undefined"==typeof o?"undefined":r(o))||Array.isArray(o)||(o=JSON.stringify(o)),a.send(o)};return new Promise(t)}},{}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=e("./Schematics"),o=r(a);window.Schematics=o["default"]},{"./Schematics":2}]},{},[4]);