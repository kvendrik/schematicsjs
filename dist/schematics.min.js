!function e(r,t,n){function o(a,u){if(!t[a]){if(!r[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var f=t[a]={exports:{}};r[a][0].call(f.exports,function(e){var t=r[a][1][e];return o(t?t:e)},f,f.exports,e,r,t,n)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,r,t){"use strict";function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),i=function(){function e(r){n(this,e),this._schema=r,this._typeOptions=["String","Number","Date","Array","Object","Boolean"]}return o(e,[{key:"_getValueType",value:function(e){var r={}.toString.call(e);return r.match(/\s(\w+)/)[1]}},{key:"checkParamsValid",value:function(e,r){var t=this._schema,n=!1;self=this;var o=function i(e,t){for(var o in e){var a=e[o],u=t[o],c=self._getValueType(a);if("undefined"==typeof u&&a.optional!==!0)return r({valid:!1,errorType:"Error",message:'Param "'+o+'" is required'}),void(n=!0);var s="Object"===c&&"undefined"!=typeof a.type;if("String"===c&&(s=!0),s){var f="String"===c?a:a.type,p=self._getValueType(u);if(p!==f){if("Undefined"===p&&a.optional===!0)continue;return r({valid:!1,errorType:"TypeError",message:'Param "'+o+'" should be of type '+f,expectedType:f,gotType:p}),void(n=!0)}}else i(a,u)}};o(t,e),n||r({valid:!0})}}]),e}();r.exports=i},{}],2:[function(e,r,t){"use strict";function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),a=e("./SchemaParser"),u=void 0,c=function(){function e(r,t){var o=this;return n(this,e),"string"==typeof r&&"function"==typeof t||this._throwError("Please provide both a schema url String and a http method"),u=t,this._publicsMethods={get:function(e,r,t){var n=this,o=t._get,i=this._parseEndpointStr(o.href,e);return i.success?("undefined"!=typeof r&&(i.queryData.return_fields=r),u({url:i.endpointUrl,data:i.queryData})):new Promise(function(e,r){n._rejectPromise(r,i)})},post:function(e,r){return o._doRequestWithParams("post",e,r)},put:function(e,r){return o._doRequestWithParams("put",e,r)},"delete":function(e,r){return o._doRequestWithParams("delete",e,r)}},new Promise(function(e,t){return o._getSchema(r,e,t)})}return i(e,[{key:"_throwError",value:function(e){var r=new Error(e);if(!console||!console.error)throw r;console.error(r)}},{key:"_rejectPromise",value:function(e,r){var t={internal:!0,errorType:r.errorType,message:r.message};"TypeError"===r.errorType&&(t.expectedType=r.expectedType,t.gotType=r.gotType),e(t)}},{key:"_doRequestWithParams",value:function(e,r,t){var n=this,o=t["_"+e],i=new a(o.params);return new Promise(function(t,a){i.checkParamsValid(r,function(i){i.valid?u({type:e,url:o.href,data:r}).then(t)["catch"](a):n._rejectPromise(a,i)})})}},{key:"_getSchema",value:function(e,r,t){var n=this;u({url:e}).then(function(e){var i="undefined"==typeof e?"undefined":o(e);"object"!==i&&n._rejectPromise(t,{errorType:"TypeError",message:"Thats not a valid schema. Expected type object, got type "+i,expectedType:"Object",gotType:i});var a=n._storeEndpoints(e);a.success?r(n):n._rejectPromise(t,a)})["catch"](t)}},{key:"_storeEndpoints",value:function(e){var r=this,t=function(t){var n=e[t];if("string"==typeof n){var i=function(){var e={},o=n;return e._get={href:o},e.get=function(t,n){return r._publicsMethods.get.apply(r,[t,n,e])},r[t]=e,{v:"continue"}}();if("object"===("undefined"==typeof i?"undefined":o(i)))return i.v}var a=function(e){var t=n[e];if("string"==typeof t){if("get"!==e)return{v:{v:{success:!1,errorType:"TypeError",message:"Expected an Object for method "+e+', instead found string "'+t,expectedType:"Object",gotType:"String"}}};var o=t;n["_"+e]={href:o},n[e]=function(t){return r._publicsMethods[e].apply(r,[t,n])}}else n["_"+e]=t,n[e]=function(t){return r._publicsMethods[e].apply(r,[t,n])}};for(var u in n){var c=a(u);if("object"===("undefined"==typeof c?"undefined":o(c)))return c.v}r[t]=n};for(var n in e){var i=t(n);switch(i){case"continue":continue;default:if("object"===("undefined"==typeof i?"undefined":o(i)))return i.v}}return{success:!0}}},{key:"_parseEndpointStr",value:function(e,r){for(var t=this._getUrlEndpointParamNames(e),n=t.required,o=t.optional,i=0,a=n.length;a>i;i++){var u=n[i];if("undefined"==typeof r[u])return{success:!1,errorType:"Error",message:'Param "'+u+'" is required for endpoint '+e}}for(var c in r)if(-1===n.indexOf(c)&&-1===o.indexOf(c))return{success:!1,errorType:"Error",message:'Param "'+c+'" is not not found in the schema for endpoint '+e};n.forEach(function(t){var n=r[t];e=e.replace(":"+t,n)});var s={};return o.forEach(function(t){var n=r[t],o=new RegExp("(\\?|\\&)"+t);"undefined"!=typeof n&&(s[t]=n),e=e.replace(o,"")}),{success:!0,endpointUrl:e,queryData:s}}},{key:"_getUrlEndpointParamNames",value:function(e,r){var t=(e.replace(/http(s)?\:\/\//,""),e.match(/\:([^\/\:\?]+)/g)||[]),n=e.match(/(\?|\&)([^\&]+)/g)||[];return t=t.map(function(e){return e.replace(/\:/g,"")}),n=n.map(function(e){return e.replace(/\&|\?/g,"")}),{required:t,optional:n}}}]),e}();r.exports=c},{"./SchemaParser":1}],3:[function(e,r,t){"use strict";var n=e("./Schematics");"undefined"!=typeof window?window.Schematics=n:"undefined"!=typeof r&&r.exports&&(r.exports=n)},{"./Schematics":2}]},{},[3]);